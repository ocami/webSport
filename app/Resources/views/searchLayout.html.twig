{% extends 'form_layout.html.twig' %}

{% block title %}
    {{ parent() }} index
{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css"
          integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
          crossorigin=""/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pretty-checkbox@3.0/dist/pretty-checkbox.min.css"/>
    <link rel="stylesheet" href="{{ asset('css/multi-switch.min.css') }}"/>

    <style>
        #search-bar {
            margin-top: 16em;
        }

        #index-map {
            height: 90%;
        }

        #small-map-container {
            height: 13em;
        }

        #small-map {
            height: 12em;
        }

        #index-map-container {
            height: 85vh;

        }

        .leaflet-popup-img {
            height: 3em;
        }

        #button-map {
            visibility: hidden;
        }

        #index-container {
            margin-left: 16em;
            padding-right: 0em;
        }

        #left-container {
            height: 100%;
            width: 18em;
            position: fixed;
            z-index: 1;
            top: 0;
            left: 0;
            overflow-x: hidden;
            transition: 0.5s;
            padding-top: 4em;
            padding-left: 0.5em;
        }

        #button-search-xs{
            margin-top: -1em;
            margin-bottom: 1em;
        }

    </style>
{% endblock %}

{% block body %}

    <div data-simplebar id="left-container" class="hidden-xs">


        <div id="small-map-container" class="col-xs-12">
            <div class="col-xs-12" id="small-map"></div>
            <button type="button" id="button-map" value="not-initialized" class="btn btn-info btn-sm col-xs-12">
                Agrandir
            </button>
        </div>

        {% include 'race/widget/searchBar.html.twig' %}


    </div>


    <div id="index-container">
        <div id="index-content">
            {% block search_content %}
            {% endblock %}
        </div>

        <div id="index-map-container" class="col-xs-offset-1 col-xs-10">
            <div class="col-xs-12" id="index-map"></div>
            <br>
            <button type="button" id="button-map-close" class="btn btn-info btn-sm pull-right">Fermer</button>
        </div>
    </div>
{% endblock %}


{% block javascripts %}
    {{ parent() }}

    <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"
            integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw=="
            crossorigin=""></script>


    <script>
        searchLayout();
    </script>

{% endblock %}

