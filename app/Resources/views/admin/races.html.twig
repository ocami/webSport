{#TO DO
- loader => raceShow
#}
{% extends 'base.html.twig' %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.16/css/dataTables.bootstrap.min.css"/>
    <link rel="stylesheet" href="https://cdn.datatables.net/select/1.2.5/css/select.bootstrap.min.css"/>

    <style>


        #example span {
            display: none;
        }

        #example .championship {
            white-space: nowrap; /* this is required unless you put the helper span closely near the img */
            text-align: center;
            overflow: visible;
            /*background: #ffffff url('https://image.flaticon.com/icons/svg/291/291201.svg') no-repeat center center;*/
            background: url('http://robwilson.tv/wordpress/wp-content/uploads/2008/12/Question-mark.png') no-repeat center center;
            background-size: 25%;
        }
    </style>


{% endblock %}

{% block title %}
    {{ parent() }} Admin-races
{% endblock %}

{% block body %}

    <div class="fullPage"><div class="loader"></div></div>

    <div id="admin-races">
        <table id="admin-races-table" cellspacing="0" width="100%">
            <thead>
            <tr>
                <th></th>
                <th>id</th>
                <th>Nom</th>
                <th>Ville</th>
                <th>Orga.</th>
                <th>Date</th>
                <th>Champ.</th>
            </tr>
            </thead>
            <tbody>
            {% for race in races %}
                <tr>
                    <td></td>
                    <td>{{ race.id }}</td>
                    <td>{{ race.name }}</td>
                    <td>{{ race.competition.location.postCode }} {{ race.competition.location.city }}</td>
                    <td>{{ race.name }}</td>
                    <td><span>{{ race.dateTime | date("Ymd") }}</span> {{ race.dateTime | date("d/m/Y") }}</td>
                    <td {% if race.requestInChampionship == 1 %} class="championship" style="text-indent: -9999px;" {% endif %}>{{ race.requestInChampionship }}</td>
                </tr>
            {% endfor %}


            </tbody>
        </table>


        <div class="loader-div"></div>
        <div id="admin-race-show">
            <div class="buttons">
                <button type="button" id="next" class="btn btn-dark next glyphicon glyphicon-chevron-left"></button>
                <button type="button" id="prev" class="btn btn-dark  glyphicon glyphicon-chevron-right"></button>
                <button type="button" id="valid" class="btn btn-dark">Valider</button>
                <button type="button" id="refuse" class="btn btn-dark">Refuser</button>
                <label><input id="cb-Championship" type="checkbox">Championat</label>

            </div>


            {% include '/race/modelShow.html.twig' %}
        </div>

    </div>
{% endblock %}

{% block javascripts %}

    {{ parent() }}

    <script src="https://cdn.datatables.net/select/1.2.5/js/dataTables.select.min.js"></script>
    <script src="https://cdn.datatables.net/plug-ins/1.10.16/sorting/date-de.js"></script>
    <script src="https://code.jquery.com/ui/1.12.0/jquery-ui.min.js"></script>

    <script>
        adminRaces();
    </script>
{% endblock %}
