{% extends 'base.html.twig' %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('css/jquery-ui.css') }}"/>
    <link rel="stylesheet" href="{{ asset('locationForm/locationForm.css') }}"/>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css"
          integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
          crossorigin=""/>
    <link rel="stylesheet"
          href="//cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.0/css/bootstrap-datepicker.css">

    <style>
        .fullPage {
            min-height: 100vh;
            min-width: 100%;
            position: absolute;
            background-color: #FFFFFF;
            z-index: 999;
        }
    </style>

{% endblock %}
    {% block body %}

        <div class="container">

            <h1>Ajouter une compétition</h1>

            <!-- Form name -->
            <div class="form-group">
                <label>Nom</label>
                <input type="text" class="form-control competitionName">
            </div>
            <hr>

            <!-- Form date -->
            <label>Date</label>
            <div class="row">
                <div class="form-group col-lg-offset-1 col-sm-4">
                    <label>Du</label>
                    <input class="form-control datepicker dpStart">
                </div>

                <div class="form-group col-lg-offset-1 col-sm-4">
                    <label>Au</label>
                    <input class="form-control datepicker dpEnd">
                </div>
            </div>
            <hr>

            <!-- Form location -->
            <div class="row">
                <label>Localisation</label><br>

                <div id="location_alert" class="alert alert-warning" role="alert" style="display: none"></div>

                <div id="location_form" class="col-xs-offset-1 col-xs-6">
                    <div class="form-group">
                        <label id="location_label"></label>
                        <input id="location_input" class="form-control" placeholder="Ex : 56 morbihan">
                    </div>

                    <button class="next_step_btn col-xs-2  btn btn-primary btn-sm"
                            onclick="nextStep(this.value)">Suivant
                    </button>
                </div>

                <div id="location_show" class="col-xs-5"></div>
            </div>
            <!--End  Form location -->

            <button class="btn btn-primary btn-md pull-right"
                    onclick="messageFullPage()">Enregistrer la compétion
            </button>
        </div>

        <div class="fullPage" >
            <div class="alert alert-success col-xs-offset-2 col-xs-8" role="alert">Compétion bien
                enregistrée
            </div>
        </div>

    {% endblock %}

   {% block javascripts %}
       {{ parent() }}
       <script>
           function messageFullPage() {

               var fullPageDiv = document.createElement('div');
               fullPageDiv.className = 'fullPage';
               var alert = document.createElement('div');
               alert.className = 'alert alert-success col-xs-offset-2 col-xs-8';
               alert.append('Compétiion bien enregistrée');
               fullPageDiv.append(alert);



               $(document.body).append(fullPageDiv);
           }
       </script>
   {% endblock %}
