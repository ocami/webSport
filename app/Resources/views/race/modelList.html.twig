{% block stylesheets %}

    <style>
        .race-description span {
            line-height: 2;
        }

        .panel-categories-container {
            padding: 0em 0em 0em 0em;
        }

        #panel-race-list .panel-distance {
            border-radius: 25px;
            background: #FFFFFF;
            padding: 0.2em;
            height: 2em;
            font-weight: bold;
            color: #2e6da4;
        }

        @media (min-width: 1000px) {
            .race-description {
                font-size: 15px;
                font-weight: bold;
            }
        }
    </style>

{% endblock %}

<div id="panel-race-list" class="panel  panel-primary">
    <div class="panel-heading">
        <span class="panel-distance">{{ race.distance }} KM</span>
        <span class="panel-title">{{ race.name }}</span>
        <span class="pull-right panel-header-img">
            {% if race.inChampionship %}
                <img src="{{ asset('img/cup.jpg') }}">
            {% endif %}

            {% if race.valid %}
                {{ race.competitorRegister|registerImg }}
            {% endif %}
                    </span>
    </div>
    <div class="panel-body panel-body-race">

        <h4 style="text-align: center">{{ race.dateTime|localizeddate('none', 'none', 'fr_BR', null, "cccc d MMMM") }} {{ race.dateTime|date('H') }}
            H {{ race.dateTime|date('i') }}</h4>

        <div class="row">
            <div class="col-xs-8 col-lg-7 race-location">
                <a div="panel-race-competition" href="#"
                   onclick="location.href = '{{ path('competition_show', {'id':race.competition.id} ) }}';">{{ race.competition.name }}</a><br><br>
                <span style="text-align: center" class="col-xs-12">
                            {{ race.competition.location.street }}<br>
                    {{ race.competition.location.postCode }} {{ race.competition.location.city }}
                        </span>
            </div>

            <div class="col-xs-4 panel-categories-container">
                {% if race.fullCat %}
                    <div class="panel-category-all">
                        toutes catégories
                    </div>
                {% else %}
                    <div data-simplebar class="panel-categories">
                        {% for category in race.categories %}
                            <span>{{ category.name }}</span><br>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>
        </div>
    </div>
    <div class="panel-footer">
        <input type="button" class="btn-xs btn-info" value="Détail"
               onclick="location.href = '{{ path('race_show', {'id': race.id}) }}';">

        {% if is_granted('ROLE_COMPETITOR') %}
            {% if race.valid %}
                {% if race.competitorRegister == 1 %}
                    <input type="button" class="btn-xs btn-info" value="S'inscrire"
                           onclick="location.href = '{{ path('app_competitor_addrace', {'race': race.id}) }}';">
                {% endif %}
                {% if race.competitorRegister == 2 %}
                    <input type="button" class="btn-xs btn-info" value="Annuler"
                           onclick="location.href = '{{ path('app_competitor_removerace', {'race': race.id}) }}';">
                {% endif %}
            {% endif %}
        {% endif %}

        {% if race.isOrganizer == true %}
            <span class="organizer-content">
                <input type="button" class="btn-xs btn-success organizer-content" value="Editer"
                       onclick="location.href = '{{ path('race_edit', {'id': race.id}) }}';">
                <span class="panel-footer-img">
                {% if race.supervised %}
                    {{ race.valid|validImg }}
                {% else %}
                    <img src="{{ asset('img/question.png ') }}" class="pull-right">
                {% endif %}
                </span>
            </span>
        {% endif %}
    </div>
</div>
